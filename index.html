<!DOCTYPE html>
<html>
  <head>
    <title>Energy Usage Recalculator</title>
    <!-- Add your CSS link here -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <!-- Add your custom CSS here -->
    <style>
      /* Custom CSS for blue theme */
      .btn-primary,
      .form-control:focus {
        border-color: #007bff;
      }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/docxtemplater/3.41.0/docxtemplater.js"></script>
    <script src="https://unpkg.com/pizzip@3.1.4/dist/pizzip.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.8/FileSaver.js"></script>
    <script src="https://unpkg.com/pizzip@3.1.4/dist/pizzip-utils.js"></script>
  </head>
  <body>
    <div class="container mt-4">
      <div>
        <h1 class="text-center">VEE Rebill Calculator</h1>
      </div>
      <form id="dataForm" class="form floating">
        <div class="accordion mb-3" id="customerInfoAccordion">
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingOne">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapseOne"
                aria-expanded="false"
                aria-controls="collapseOne"
              >
                Customer Info
              </button>
            </h2>
            <div
              id="collapseOne"
              class="accordion-collapse collapse"
              aria-labelledby="headingOne"
              data-bs-parent="#customerInfoAccordion"
            >
              <div class="accordion-body">
                <!-- Place your input fields here -->
                <div class="row mb-3">
                  <div class="form-floating col gx-1">
                    <input
                      type="text"
                      class="form-control"
                      id="customerName"
                      placeholder="Customer Name"
                      name="customerName"
                    />
                    <label for="floatingInput">Customer Name</label>
                  </div>
                  <div class="form-floating col gx-1">
                    <input
                      type="text"
                      class="form-control"
                      id="accountNumber"
                      placeholder="Account Number"
                      name="accountNumber"
                    />
                    <label for="floatingInput">Account Number</label>
                  </div>
                </div>
                <!-- Add more fields as needed -->
              </div>
            </div>
          </div>
          <!-- Add more accordion items if needed -->
        </div>

        <div class="accordion mb-3" id="accordionExample">
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingOne">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapsetwo"
                aria-expanded="false"
                aria-controls="collapsetwo"
              >
                Premise Info
              </button>
            </h2>
            <div
              id="collapsetwo"
              class="accordion-collapse collapse"
              aria-labelledby="headingOne"
              data-bs-parent="#accordionExample"
            >
              <div class="accordion-body">
                <!-- Place your input fields here -->
                <div class="row mb-3">
                  <div class="form-floating col-6 gx-1">
                    <input
                      type="text"
                      class="form-control form-control-sm"
                      id="premiseAddress"
                      placeholder="Premise Address"
                      name="premiseAddress"
                    />
                    <label for="floatingInput">Premise Address</label>
                  </div>
                  <div class="form-floating col-6 gx-1">
                    <input
                      type="text"
                      class="form-control form-control-sm"
                      id="premiseCity"
                      placeholder="Premise City"
                      name="premiseCity"
                    />
                    <label for="floatingInput">Premise City</label>
                  </div>
                </div>
                <div class="row mb-3">
                  <div class="form-floating col-6 gx-1">
                    <select
                      name="premiseState"
                      id="stateSelect"
                      class="form-select form-control-sm"
                    >
                      <option value="CA">California</option>
                      <option value="AL">Alabama</option>
                      <option value="AK">Alaska</option>
                      <option value="AZ">Arizona</option>

                      <!-- Add other states here -->
                    </select>
                    <label for="floatingInput">Premise State</label>
                  </div>
                  <div class="form-floating col-6 gx-1">
                    <input
                      type="text"
                      class="form-control form-control-sm"
                      id="premiseZip"
                      placeholder="Premise Zip Code"
                      name="premiseZip"
                    />
                    <label for="floatingInput">Premise Zip Code</label>
                  </div>
                  <div class="form-floating mt-3 col-4 gx-1">
                    <input
                      type="text"
                      class="form-control form-control-sm"
                      id="meterNumber"
                      placeholder="Meter Number"
                      name="meterNumber"
                    />
                    <label for="floatingInput">Meter Number</label>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Add more accordion items if needed -->
        </div>

        <div class="mt-3 mb-3">
          <div class="row">
            <div class="col-md-3">
              <!-- This column will take up 25% of the container width -->
              <select
                class="form-select pl-0"
                aria-label="Default select example"
              >
                <option selected>Error Type</option>
                <option value="1">SIO Prolonged Estimation</option>
                <option value="2">Fatal Meter Error</option>
              </select>
            </div>
          </div>
        </div>
        <!-- Button to trigger the off-canvas -->
        <button
          class="btn btn-primary"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#offCanvasData"
          aria-controls="offCanvasData"
        >
          Prior Data Calculator
        </button>

        <br />
        <br />
        <br />
        <div>
          <div class="text-center">
            <h3>Bill Segment Data</h3>
          </div>
        </div>
        <br />
        <!-- Continue adding form fields with Bootstrap classes -->
        <div class="mb-3" id="billSegments">
          <!-- Bill segments will be added here dynamically -->
        </div>
        <button type="button" class="btn btn-primary" id="addSegment">
          Add Bill Segment
        </button>
        <button type="submit" class="btn btn-primary" id="calculateButton">
          Calculate
        </button>
        <button type="button" class="btn btn-secondary" id="resetForm">
          Reset
        </button>
      </form>
      <!--Generate Letter and Letter Template Section-->
      <div class="mt-3">
        <button type="button" class="btn btn-success" id="generateDoc">
          Generate Customer Letter
        </button>

        <div class="input-group mb-3 mt-3" data-bs-theme="light">
          <label class="input-group-text" for="inputGroupFile01"
            >Letter Template</label
          >
          <input
            type="file"
            class="form-control"
            id="templateUpload"
            accept=".docx"
          />
        </div>
      </div>

      <!--Remember Template Checkbox-->
      <div class="form-check form-switch">
        <input
          class="form-check-input"
          type="checkbox"
          value=""
          id="keepTemplate"
          name="keepTemplate"
        />
        <label class="form-check-label" for="flexSwitchCheckDefault"
          >Remember Template</label
        >
      </div>

      <!-- Target div for displaying submitted offcanvas data -->
      <div id="submittedDataDisplay" class="mt-3">
        <!-- Submitted data will appear here -->
      </div>

      <div id="results" class="mt-3">
        <!-- Results will be displayed here -->
      </div>
    </div>

    <!--Bill Segment Table-->
    <div class="container-sm">
      <table id="billSegmentTable" class="table">
        <thead>
          <!-- Table headers here -->
        </thead>
        <tbody>
          <!-- Rows will be added here -->
        </tbody>
      </table>
    </div>

    <!-- Off-canvas component -->
    <div
      class="offcanvas offcanvas-end"
      tabindex="-1"
      id="offCanvasData"
      data-bs-backdrop="static"
      aria-labelledby="offCanvasDataLabel"
    >
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offCanvasDataLabel">
          Additional Information
        </h5>
        <button
          type="button"
          class="btn-close text-reset"
          data-bs-dismiss="offcanvas"
          aria-label="Close"
        ></button>
      </div>
      <div class="offcanvas-body">
        <!-- Place your additional form fields or content here -->
        <form id="offCanvasForm">
          <div class="mb-3">
            <label for="dateField" class="form-label">Error Date</label>
            <input
              type="date"
              class="form-control"
              id="errorDate"
              name="errorDate"
            />
          </div>
          <div class="mb-3">
            <label for="dateField" class="form-label"
              >Estimation Start Date</label
            >
            <input
              type="date"
              class="form-control"
              id="estimationDate"
              name="estimationStartDate"
            />
          </div>
          <div class="mb-3">
            <label for="dateField" class="form-label">Meter Removal Date</label>
            <input
              type="date"
              class="form-control"
              id="meterRemovalDate"
              name="meterRemovalDate"
            />
          </div>
          <div class="mb-3">
            <label for="timeField" class="form-label">Meter Removal Time</label>
            <input
              type="time"
              class="form-control"
              id="meterRemovalTime"
              name="meterRemovalTime"
            />
          </div>
          <div class="mb-3">
            <label for="additionalField2" class="form-label"
              >Prior Estimation</label
            >
            <input
              type="text"
              class="form-control"
              id="priorEstimation"
              placeholder="Prior Estimation"
              name="priorEstimation"
            />
          </div>
          <div class="mb-3">
            <label for="additionalField2" class="form-label"
              >New Meter Usage</label
            >
            <input
              type="text"
              class="form-control"
              id="newMeterUsage"
              placeholder="New Usage"
              name="newMeterUsage"
            />
          </div>
          <!-- Add more fields as needed -->
          <button type="submit" class="btn btn-primary">Submit</button>
        </form>
      </div>

      <div class="row justify-content-center mt-3 mb-3">
        <div class="col-6">
          <button type="button" class="btn btn-dark" id="toggleSideBtn">
            Move Window
          </button>
        </div>
      </div>
    </div>

    <!-- Add JavaScript links here -->
    <script src="calculationFunctions.js"></script>
    <script src="documentFunctions.js"></script>
    <script src="lookAndFeel.js"></script>
  </body>
</html>
